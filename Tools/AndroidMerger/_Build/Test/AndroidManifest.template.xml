<?xml version="1.0" encoding="utf-8"?>
<!-- BEGIN_INCLUDE(manifest) -->
<manifest xmlns:android="http://schemas.android.com/apk/res/android"
          package="%package%"
          android:versionCode="%versionCode%"
          android:versionName="%versionName%"
          android:installLocation="%installLocation%"> 
                
  <!-- This is the platform API where NativeActivity was introduced. -->
  <uses-sdk android:minSdkVersion="21" 
            android:targetSdkVersion="29" /> <!-- Lollipop (5.0) - Android 10 (10) -->

  <!-- <%uses-permission%> -->
  <uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" />
  <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />
  <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
  <uses-permission android:name="android.permission.VIBRATE" />
      
  <uses-feature android:glEsVersion="0x00020000" android:required="True"/>

  <!-- ============================================ -->
  <!-- AndroidMerger auto-generated section (BEGIN) -->
  <!-- ============================================ -->
  
  <!-- android.arch.core -->
  <!-- <uses-sdk android:minSdkVersion="14"/> -->
  
  <!-- android.arch.lifecycle.livedata.core -->
  <!-- <uses-sdk android:minSdkVersion="14"/> -->
  
  <!-- android.arch.lifecycle -->
  <!-- <uses-sdk android:minSdkVersion="14"/> -->
  
  <!-- android.arch.lifecycle.viewmodel -->
  <!-- <uses-sdk android:minSdkVersion="14"/> -->
  
  <!-- com.android.billingclient -->
  <!-- <uses-sdk android:minSdkVersion="14" android:targetSdkVersion="22"/> -->
  <uses-permission android:name="com.android.vending.BILLING"/>
  
  <!-- com.android.installreferrer -->
  <uses-permission android:name="com.google.android.finsky.permission.BIND_GET_INSTALL_REFERRER_SERVICE"/>
  
  <!-- android.support.graphics.drawable.animated -->
  <!-- <uses-sdk android:minSdkVersion="14"/> -->
  
  <!-- android.support.v7.appcompat -->
  <!-- <uses-sdk android:minSdkVersion="14"/> -->
  
  <!-- android.support.v7.cardview -->
  <!-- <uses-sdk android:minSdkVersion="14"/> -->
  
  <!-- android.support.customtabs -->
  <!-- <uses-sdk android:minSdkVersion="15"/> -->
  
  <!-- android.support.compat -->
  <!-- <uses-sdk android:minSdkVersion="14"/> -->
  
  <!-- android.support.coreui -->
  <!-- <uses-sdk android:minSdkVersion="14"/> -->
  
  <!-- android.support.coreutils -->
  <!-- <uses-sdk android:minSdkVersion="14"/> -->
  
  <!-- android.support.fragment -->
  <!-- <uses-sdk android:minSdkVersion="14"/> -->
  
  <!-- android.support.mediacompat -->
  <!-- <uses-sdk android:minSdkVersion="14"/> -->
  
  <!-- android.support.graphics.drawable -->
  <!-- <uses-sdk android:minSdkVersion="14"/> -->
  
  <!-- com.facebook.common -->
  <!-- <uses-sdk android:minSdkVersion="15" android:targetSdkVersion="28"/> -->
  
  <!-- com.facebook.core -->
  <!-- <uses-sdk android:minSdkVersion="15" android:targetSdkVersion="28"/> -->
  
  <!-- com.facebook.login -->
  <!-- <uses-sdk android:minSdkVersion="15" android:targetSdkVersion="28"/> -->
  
  <!-- com.facebook.share -->
  <!-- <uses-sdk android:minSdkVersion="15" android:targetSdkVersion="28"/> -->
  
  <!-- com.google.android.exoplayer2.core -->
  <!-- <uses-sdk android:minSdkVersion="14" android:targetSdkVersion="27"/> -->
  
  <!-- com.google.android.exoplayer2.source.hls -->
  <!-- <uses-sdk android:minSdkVersion="14" android:targetSdkVersion="27"/> -->
  
  <!-- com.google.android.gms.auth.api.phone -->
  <!-- <uses-sdk android:minSdkVersion="14"/> -->
  
  <!-- com.google.android.gms.auth -->
  <!-- <uses-sdk android:minSdkVersion="14"/> -->
  
  <!-- com.google.android.gms.auth.api -->
  <!-- <uses-sdk android:minSdkVersion="14"/> -->
  
  <!-- com.google.android.gms.base -->
  <!-- <uses-sdk android:minSdkVersion="14"/> -->
  
  <!-- com.google.android.gms -->
  <!-- <uses-sdk android:minSdkVersion="14"/> -->
  
  <!-- com.google.android.gms.location -->
  <!-- <uses-sdk android:minSdkVersion="14"/> -->
  
  <!-- com.google.android.gms.tasks -->
  <!-- <uses-sdk android:minSdkVersion="14"/> -->
  
  <!-- com.google.firebase.measurement_impl -->
  <!-- <uses-sdk android:minSdkVersion="14"/> -->
  <uses-permission android:name="android.permission.INTERNET"/>
  <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/>
  <uses-permission android:name="android.permission.WAKE_LOCK"/>
  
  <!-- com.google.firebase.measurement -->
  <!-- <uses-sdk android:minSdkVersion="14"/> -->
  <!-- <uses-permission android:name="android.permission.INTERNET"/> -->
  <!-- <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/> -->
  <!-- <uses-permission android:name="android.permission.WAKE_LOCK"/> -->
  
  <!-- com.google.firebase.firebase_common -->
  <!-- <uses-sdk android:minSdkVersion="14"/> -->
  
  <!-- com.google.firebase.iid -->
  <!-- <uses-sdk android:minSdkVersion="14"/> -->
  <!-- <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/> -->
  <!-- <uses-permission android:name="android.permission.INTERNET"/> -->
  <!-- <uses-permission android:name="android.permission.WAKE_LOCK"/> -->
  <uses-permission android:name="com.google.android.c2dm.permission.RECEIVE"/>
  <permission android:name="%package%.permission.C2D_MESSAGE"
              android:protectionLevel="signature"/>
  <uses-permission android:name="%package%.permission.C2D_MESSAGE"/>
  
  <!-- com.google.firebase.messaging -->
  <!-- <uses-sdk android:minSdkVersion="14"/> -->
  
  <!-- bolts -->
  <!-- <uses-sdk android:minSdkVersion="8" android:targetSdkVersion="23"/> -->
  
  <!-- bolts.applinks -->
  <!-- <uses-sdk android:minSdkVersion="8" android:targetSdkVersion="23"/> -->
  
  <!-- com.vk.api.sdk -->
  <!-- <uses-sdk android:minSdkVersion="16" android:targetSdkVersion="28"/> -->
  <!-- <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/> -->
  <!-- <uses-permission android:name="android.permission.INTERNET"/> -->
  
  <!-- org.webrtc -->
  <!-- <uses-sdk android:minSdkVersion="16" android:targetSdkVersion="23"/> -->
  
  <!-- ========================================== -->
  <!-- AndroidMerger auto-generated section (END) -->
  <!-- ========================================== -->

  <application android:persistent="%persistent%" 
               android:restoreAnyVersion="%restoreAnyVersion%" 
               android:label="%label%" 
               android:debuggable="%debuggable%" 
               android:largeHeap="%largeHeap%"
               android:icon="@mipmap/ic_launcher"
               android:theme="@style/Theme"
               android:usesCleartextTraffic="%debuggable%"
               android:hardwareAccelerated="%hardwareAccelerated%"> <!-- android:theme="@style/Theme" instead of android:theme="%theme%" 
                                                                         android:supportsRtl="true" is declared in facebook but I prefer to skip it for now
                                                                         android:icon="@mipmap/ic_launcher" instead of "%icon%" -->

    <%application-meta-data%>
  
    <%services%>
  
    <!-- App.jar -->
    <service android:name="%package%.services.JobService" 
             android:permission="android.permission.BIND_JOB_SERVICE" />  
    <receiver android:name="%package%.services.JobScheduler">  
      <intent-filter>  
        <action android:name="android.intent.action.BOOT_COMPLETED" />  
      </intent-filter>  
    </receiver> 
    <receiver android:name="%package%.services.LocationService">
      <intent-filter>
        <action android:name="%package%.services.action.PROCESS_RAW_LOCATION_UPDATES" />
      </intent-filter>
    </receiver>
            
    <!-- LaunchScreenActivity will launch the main activity -->
    <activity android:name="%package%.activities.LaunchScreenActivity"
              android:theme="@style/LaunchTheme">
        
        <intent-filter>  
            <action android:name="android.intent.action.MAIN" />
            <category android:name="android.intent.category.LAUNCHER" />
        </intent-filter> 

        <!-- https://support.appsflyer.com/hc/en-us/articles/207032126-AppsFlyer-SDK-Integration-Android -->
        <!-- To test: adb.exe shell am start -a android.intent.action.VIEW -d "test://" %package% -->
        <intent-filter>
          <action android:name="android.intent.action.VIEW" />
          <category android:name="android.intent.category.DEFAULT" />
          <category android:name="android.intent.category.BROWSABLE" />
          <data android:scheme="test" />
        </intent-filter>

    </activity>

    <!-- Our activity is a subclass of the built-in NativeActivity framework class.
         This will take care of integrating with our NDK code. -->
    <activity android:name="com.embarcadero.firemonkey.FMXNativeActivity"
              android:label="%activityLabel%"
              android:configChanges="orientation|keyboard|keyboardHidden|screenSize"
              android:resizeableActivity="false"
              android:launchMode="singleTask">
            
        <!-- Tell NativeActivity the name of our .so -->
        <meta-data android:name="android.app.lib_name"
                   android:value="%libNameValue%" />
        
    </activity>
                                                        
    <!-- ============================================ -->
    <!-- AndroidMerger auto-generated section (BEGIN) -->
    <!-- ============================================ -->
    
    <!-- com.android.billingclient -->
    <meta-data android:name="com.google.android.play.billingclient.version"
               android:value="3.0.1"/>
    <activity android:name="com.android.billingclient.api.ProxyBillingActivity"
              android:configChanges="keyboard|keyboardHidden|screenLayout|screenSize|orientation"
              android:exported="false"
              android:theme="@android:style/Theme.Translucent.NoTitleBar"/>
    
    <!-- com.facebook.common -->
    <activity android:name="com.facebook.FacebookActivity"
              android:configChanges="keyboard|keyboardHidden|screenLayout|screenSize|orientation"
              android:theme="@style/com_facebook_activity_theme"/>
    <activity android:name="com.facebook.CustomTabMainActivity"/>
    <activity android:name="com.facebook.CustomTabActivity"
              android:exported="true"
              tools:node="merge">
      <intent-filter>
        <action android:name="android.intent.action.VIEW"/>
        <category android:name="android.intent.category.DEFAULT"/>
        <category android:name="android.intent.category.BROWSABLE"/>
        <data android:host="cct.%package%"
              android:scheme="fbconnect"/>
      </intent-filter>
    </activity>
    
    <!-- com.facebook.core -->
    <!-- !! <provider android:name="com.facebook.internal.FacebookInitProvider" android:authorities="%package%.FacebookInitProvider" android:exported="false"/> !! -->
    <receiver android:name="com.facebook.CurrentAccessTokenExpirationBroadcastReceiver"
              android:exported="false">
      <intent-filter>
        <action android:name="com.facebook.sdk.ACTION_CURRENT_ACCESS_TOKEN_CHANGED"/>
      </intent-filter>
    </receiver>
    
    <!-- com.facebook.login -->
    <!-- application android:supportsRtl="true" -->
    
    <!-- com.facebook.share -->
    <!-- application android:supportsRtl="true" -->
    
    <!-- com.google.android.gms.auth.api -->
    <activity android:name="com.google.android.gms.auth.api.signin.internal.SignInHubActivity"
              android:excludeFromRecents="true"
              android:exported="false"
              android:theme="@android:style/Theme.Translucent.NoTitleBar"/>
    <service android:name="com.google.android.gms.auth.api.signin.RevocationBoundService"
             android:exported="true"
             android:permission="com.google.android.gms.auth.api.signin.permission.REVOCATION_NOTIFICATION"/>
    
    <!-- com.google.android.gms.base -->
    <activity android:name="com.google.android.gms.common.api.GoogleApiActivity"
              android:exported="false"
              android:theme="@android:style/Theme.Translucent.NoTitleBar"/>
    
    <!-- com.google.android.gms -->
    <meta-data android:name="com.google.android.gms.version"
               android:value="@integer/google_play_services_version"/>
    
    <!-- com.google.firebase.measurement_impl -->
    <receiver android:name="com.google.android.gms.measurement.AppMeasurementReceiver"
              android:enabled="true"
              android:exported="false"/>
    <service android:name="com.google.android.gms.measurement.AppMeasurementService"
             android:enabled="true"
             android:exported="false"/>
    
    <!-- com.google.firebase.measurement -->
    <!-- <receiver android:name="com.google.android.gms.measurement.AppMeasurementReceiver" android:enabled="true" android:exported="false"/> -->
    <receiver android:name="com.google.android.gms.measurement.AppMeasurementInstallReferrerReceiver"
              android:enabled="true"
              android:exported="true"
              android:permission="android.permission.INSTALL_PACKAGES">
      <intent-filter>
        <action android:name="com.android.vending.INSTALL_REFERRER"/>
      </intent-filter>
    </receiver>
    <!-- <service android:name="com.google.android.gms.measurement.AppMeasurementService" android:enabled="true" android:exported="false"/> -->
    <service android:name="com.google.android.gms.measurement.AppMeasurementJobService"
             android:enabled="true"
             android:exported="false"
             android:permission="android.permission.BIND_JOB_SERVICE"/>
    
    <!-- com.google.firebase.firebase_common -->
    <provider android:name="com.google.firebase.provider.FirebaseInitProvider"
              android:authorities="%package%.firebaseinitprovider"
              android:exported="false"
              android:initOrder="100"/>
    
    <!-- com.google.firebase.iid -->
    <receiver android:name="com.google.firebase.iid.FirebaseInstanceIdReceiver"
              android:exported="true"
              android:permission="com.google.android.c2dm.permission.SEND">
      <intent-filter>
        <action android:name="com.google.android.c2dm.intent.RECEIVE"/>
        <category android:name="%package%"/>
      </intent-filter>
    </receiver>
    <service android:name="com.google.firebase.iid.FirebaseInstanceIdService"
             android:exported="true">
      <intent-filter android:priority="-500">
        <action android:name="com.google.firebase.INSTANCE_ID_EVENT"/>
      </intent-filter>
    </service>
    
    <!-- com.google.firebase.messaging -->
    <service android:name="com.google.firebase.messaging.FirebaseMessagingService"
             android:exported="true">
      <intent-filter android:priority="-500">
        <action android:name="com.google.firebase.MESSAGING_EVENT"/>
      </intent-filter>
    </service>
    
    <!-- com.vk.api.sdk -->
    <activity android:name="com.vk.api.sdk.ui.VKWebViewAuthActivity"
              android:theme="@style/VK.Transparent"/>
    <activity android:name="com.vk.api.sdk.ui.VKCaptchaActivity"
              android:theme="@android:style/Theme.Translucent.NoTitleBar"/>
    <activity android:name="com.vk.api.sdk.ui.VKConfirmationActivity"
              android:theme="@android:style/Theme.Translucent.NoTitleBar"/>
    <provider android:name="com.vk.api.sdk.internal.VKInitProvider"
              android:authorities="%package%.VKInitProvider"
              android:exported="false"/>
    
    <!-- ========================================== -->
    <!-- AndroidMerger auto-generated section (END) -->
    <!-- ========================================== -->

  </application>

</manifest>
<!-- END_INCLUDE(manifest) -->
